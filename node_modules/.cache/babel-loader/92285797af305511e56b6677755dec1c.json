{"ast":null,"code":"export const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    console.log(\"ddshfj\", data.accessToken);\n    localStorage.setItem('jwt', JSON.stringify(data.accessToken));\n    localStorage.setItem('refreshToken', data.refreshToken);\n    localStorage.setItem('accessodule', JSON.stringify(data.user.accessModules));\n    localStorage.setItem('type', JSON.stringify(data.user.type));\n    localStorage.setItem('userDetails', JSON.stringify(data.user));\n    if (data.user.type !== 'ADMIN') {\n      localStorage.setItem('storeId', JSON.stringify(data.user.storeId));\n    }\n    console.log(data, \"type\");\n    next();\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n  if (localStorage.getItem('jwt')) {\n    const accessToken = localStorage.getItem('jwt');\n    console.log(\"local\", accessToken.accessToken);\n    return JSON.parse(localStorage.getItem('jwt'));\n  }\n  if (localStorage.getItem('type')) {\n    const userType = localStorage.getItem('type');\n    return JSON.parse(localStorage.getItem('type'));\n  } else {\n    return false;\n  }\n};","map":{"version":3,"names":["authenticate","data","next","window","console","log","accessToken","localStorage","setItem","JSON","stringify","refreshToken","user","accessModules","type","storeId","isAuthenticated","getItem","parse","userType"],"sources":["C:/localpartner-Repo/LocalPartner-AdminPanel/src/common/utils.js"],"sourcesContent":["export const authenticate = (data, next) => {\n    if (typeof window !== 'undefined') {\n        console.log(\"ddshfj\", data.accessToken);\n        localStorage.setItem('jwt', JSON.stringify(data.accessToken));\n        localStorage.setItem('refreshToken', data.refreshToken);\n        localStorage.setItem('accessodule',JSON.stringify(data.user.accessModules));\n\n        localStorage.setItem('type',JSON.stringify(data.user.type));\n        localStorage.setItem('userDetails',JSON.stringify(data.user));\n        if(data.user.type!=='ADMIN'){\n        localStorage.setItem('storeId',JSON.stringify(data.user.storeId));}\n        console.log(data,\"type\")\n\n        next();\n    }\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n    if (localStorage.getItem('jwt')) {\n        const accessToken = localStorage.getItem('jwt');\n        console.log(\"local\", accessToken.accessToken);\n\n        return JSON.parse(localStorage.getItem('jwt'));\n\n    } if(localStorage.getItem('type')){\n        const userType = localStorage.getItem('type');\n        return JSON.parse(localStorage.getItem('type'));\n\n\n\n\n\n    }\n    else {\n        return false;\n    }\n};"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAGA,CAACC,IAAI,EAAEC,IAAI,KAAK;EACxC,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;IAC/BC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEJ,IAAI,CAACK,WAAW,CAAC;IACvCC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEC,IAAI,CAACC,SAAS,CAACT,IAAI,CAACK,WAAW,CAAC,CAAC;IAC7DC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEP,IAAI,CAACU,YAAY,CAAC;IACvDJ,YAAY,CAACC,OAAO,CAAC,aAAa,EAACC,IAAI,CAACC,SAAS,CAACT,IAAI,CAACW,IAAI,CAACC,aAAa,CAAC,CAAC;IAE3EN,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACT,IAAI,CAACW,IAAI,CAACE,IAAI,CAAC,CAAC;IAC3DP,YAAY,CAACC,OAAO,CAAC,aAAa,EAACC,IAAI,CAACC,SAAS,CAACT,IAAI,CAACW,IAAI,CAAC,CAAC;IAC7D,IAAGX,IAAI,CAACW,IAAI,CAACE,IAAI,KAAG,OAAO,EAAC;MAC5BP,YAAY,CAACC,OAAO,CAAC,SAAS,EAACC,IAAI,CAACC,SAAS,CAACT,IAAI,CAACW,IAAI,CAACG,OAAO,CAAC,CAAC;IAAC;IAClEX,OAAO,CAACC,GAAG,CAACJ,IAAI,EAAC,MAAM,CAAC;IAExBC,IAAI,EAAE;EACV;AACJ,CAAC;AAED,OAAO,MAAMc,eAAe,GAAGA,CAAA,KAAM;EACjC,IAAI,OAAOb,MAAM,IAAI,WAAW,EAAE;IAC9B,OAAO,KAAK;EAChB;EACA,IAAII,YAAY,CAACU,OAAO,CAAC,KAAK,CAAC,EAAE;IAC7B,MAAMX,WAAW,GAAGC,YAAY,CAACU,OAAO,CAAC,KAAK,CAAC;IAC/Cb,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEC,WAAW,CAACA,WAAW,CAAC;IAE7C,OAAOG,IAAI,CAACS,KAAK,CAACX,YAAY,CAACU,OAAO,CAAC,KAAK,CAAC,CAAC;EAElD;EAAE,IAAGV,YAAY,CAACU,OAAO,CAAC,MAAM,CAAC,EAAC;IAC9B,MAAME,QAAQ,GAAGZ,YAAY,CAACU,OAAO,CAAC,MAAM,CAAC;IAC7C,OAAOR,IAAI,CAACS,KAAK,CAACX,YAAY,CAACU,OAAO,CAAC,MAAM,CAAC,CAAC;EAMnD,CAAC,MACI;IACD,OAAO,KAAK;EAChB;AACJ,CAAC"},"metadata":{},"sourceType":"module"}